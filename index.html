<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Jekyll Maps &middot; A Jekyll plugin to easily embed maps with filterable locations.
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/jekyll-maps/public/css/poole.css">
  <link rel="stylesheet" href="/jekyll-maps/public/css/syntax.css">
  <link rel="stylesheet" href="/jekyll-maps/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css" />
  <!--[if lt IE 9]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
  <![endif]-->

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/jekyll-maps/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/jekyll-maps/public/favicon.ico">

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type='text/javascript'>
  var jekyllMaps = (function () {
    'use strict';

    return {
        data: [],
        maps: [],
        initializeMap: initializeMap,
        initializeCluster: initializeCluster,
        register: register,
        render: render,
        processCluster: processCluster
    };

    /**
     * Setup Google Maps options and call renderer.
     */
    function initializeMap() {
        this.options = {
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            center: new google.maps.LatLng(0, 0),
            zoom: 3
        }
        this.mapReady = true;
        this.render();
    }

    /**
     * Register map data to be rendered once Google Maps API is loaded.
     *
     * @param String id
     * @param Array locations
     */
    function register(id, locations) {
        this.data.push({id: id, locations: locations});
        this.render();
    }

    /**
     * Render maps data if Google Maps API is loaded.
     */
    function render() {
        if (!this.mapReady) return;

        while (this.data.length > 0) {
            var data = this.data.pop(),
                bounds = new google.maps.LatLngBounds(),
                map = new google.maps.Map(document.getElementById(data.id), this.options),
                markers = data.locations.map(createMarker);

            map.fitBounds(bounds);
            this.maps.push({map: map, markers: markers});
            this.processCluster();
        }

        function createMarker(location) {
            var position = new google.maps.LatLng(location.latitude, location.longitude),
                marker = new google.maps.Marker({
                    position: position,
                    title: location.title,
                    url: location.url,
                    map: map
                });

            bounds.extend(position);
            marker.addListener('click', function () {
                window.location.href = this.url
            });

            return marker;
        }
    }

    function initializeCluster() {
        this.clusterReady = true;
        this.processCluster();
    }

    function processCluster() {
        if (!this.clusterReady) return;

        while (this.maps.length > 0) {
            var obj = this.maps.pop();
            new MarkerClusterer(obj.map, obj.markers, {
                gridSize: 25,
                imagePath: 'https://cdn.rawgit.com/googlemaps/js-marker-clusterer/gh-pages/images/m'
            });
        }
    }
}());

</script>
<script async defer src='https://maps.googleapis.com/maps/api/js?key=AIzaSyDiswWoiEpfb14st7-VcFPtzLimC5Bhr4k&callback=jekyllMaps.initializeMap'></script>
<script async defer src='https://cdn.rawgit.com/googlemaps/js-marker-clusterer/gh-pages/src/markerclusterer.js'
        onload='jekyllMaps.initializeCluster()'></script>
</head>


  <body class="theme-base-0d">
    <style>
  .github-fork-ribbon:before {
    background-color: #6a9fb5;
  }
</style>
<a class="github-fork-ribbon right-top fixed" href="https://github.com/ayastreb/jekyll-maps" title="Fork me on GitHub">Fork me on GitHub</a>


    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <img src="/jekyll-maps/public/jekyll-maps-logo.png" width="128"/>
        Jekyll Maps
      </h1>
      <p class="lead">Easily embed GoogleMaps with locations from your Jekyll posts or data files.</p>
    </div>

    <nav class="sidebar-nav">
      
      
        
          
          <div class="sidebar-nav-item">
            <a href="#intro">Introduction</a>
          </div>
          
        
      
        
          
          <div class="sidebar-nav-item">
            <a href="#installation">Installation</a>
          </div>
          
        
      
        
          
          <div class="sidebar-nav-item">
            <a href="#usage">Usage</a>
          </div>
          
        
      
        
          
          <div class="sidebar-nav-item">
            <a href="#examples">Examples</a>
          </div>
          
        
      
    </nav>
  </div>
</div>
<script type="text/javascript">
  $(document).ready(function(){
    var $root = $('html, body');
    $('a[href^="#"]').on('click',function (e) {
      e.preventDefault();

      var target = this.hash;
      var $target = $(target);

      $root.stop().animate({
        'scrollTop': $target.offset().top
      }, 250, 'swing', function () {
        window.location.hash = target;
      });
    });
  });
</script>


    <div class="content container">
      <div class="posts">
  
  <div class="post" id="intro">
    <a name="intro"></a>
    <h1 class="post-title">
      Introduction
    </h1>

    <p>Jekyll Maps is a plugin that allows you to easily create different maps on your Jekyll site pages.
It allows you to select which points to display on the map with different filters.</p>

<p>GoogleMaps Marker Clusterer can be used if you have many points within close proximity.</p>

  </div>
  
  <div class="post" id="installation">
    <a name="installation"></a>
    <h1 class="post-title">
      Installation
    </h1>

    <p>1.&nbsp;Add the following to your site&#39;s <code>Gemfile</code>:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="n">gem</span> <span class="s1">&#39;jekyll-maps&#39;</span>
</code></pre></div>
<p>2.&nbsp;Add the following to your site&#39;s <code>_config.yml</code>:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml">  <span class="l-Scalar-Plain">gems</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">jekyll-maps</span>
</code></pre></div>
  </div>
  
  <div class="post" id="usage">
    <a name="usage"></a>
    <h1 class="post-title">
      Usage
    </h1>

    <h3>Data Source</h3>

<p>First, add location information to your posts YAML front-matter:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml">  <span class="c1"># _posts/2016-01-01-post.md</span>
  <span class="l-Scalar-Plain">location</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">latitude</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">51.5285582</span>
    <span class="l-Scalar-Plain">longitude</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">-0.2416807</span>
</code></pre></div>
<p>Alternatively, you can add location info to your custom collection&#39;s documents or even in data files:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml">  <span class="c1"># _data/places.yaml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="s">&quot;Paris&quot;</span>
    <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&quot;http://google.fr&quot;</span>
    <span class="l-Scalar-Plain">location</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">latitude</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">48.8587741</span>
      <span class="l-Scalar-Plain">longitude</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2.2074741</span>

  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="s">&quot;Madrid&quot;</span>
    <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="s">&quot;http://google.es&quot;</span>
    <span class="l-Scalar-Plain">location</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">latitude</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">40.4378698</span>
      <span class="l-Scalar-Plain">longitude</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">-3.8196204</span>
</code></pre></div>
<p>When you have your data ready, just add following tag to the page where you want to see the map:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  {% google_map %}
</code></pre></div>
<p>You can configure map&#39;s dimensions and assign custom CSS class to the element:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  {% google_map width:100% height:400 class:my-map %}
</code></pre></div>
<h3>Filters</h3>

<p>You can also filter which locations to display on the map!<br/>
For instance, following tag will only display locations from documents which have <code>lang: en</code> in their front-matter data.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  {% google_map lang:en %}
</code></pre></div>
  </div>
  
  <div class="post" id="examples">
    <a name="examples"></a>
    <h1 class="post-title">
      Examples
    </h1>

    <h3>Simple Map</h3>
<div class="highlight"><pre><code class="language-text" data-lang="text">  {% google_map example:01 width:100% id:example-01 %}
</code></pre></div>
<div id='example-01' style='width:100%;height:400px;'></div>

<script type='text/javascript'>
  jekyllMaps.register('example-01', [{"latitude":48.8587741,"longitude":2.2074741,"title":"Paris","url":"#example-01"},{"latitude":40.4378698,"longitude":-3.8196204,"title":"Madrid","url":"#example-01"}]);
</script>

<h3>Markers Clusterer Map</h3>
<div class="highlight"><pre><code class="language-text" data-lang="text">  {% google_map example:02 width:100% id:example-02 %}
</code></pre></div>
<div id='example-02' style='width:100%;height:400px;'></div>

<script type='text/javascript'>
  jekyllMaps.register('example-02', [{"latitude":40.755965,"longitude":-73.994175,"title":"New York Streets","url":"#example-02"},{"latitude":40.747296,"longitude":-73.9762767,"title":"New York Streets","url":"#example-02"},{"latitude":40.7609,"longitude":-73.9713197,"title":"New York Streets","url":"#example-02"},{"latitude":42.367193,"longitude":-71.0545267,"title":"Boston Streets","url":"#example-02"},{"latitude":42.364498,"longitude":-71.0588737,"title":"Boston Streets","url":"#example-02"},{"latitude":42.3615104,"longitude":-71.0673652,"title":"Boston Streets","url":"#example-02"},{"latitude":42.352571,"longitude":-71.0695776,"title":"Boston Streets","url":"#example-02"},{"latitude":42.351463,"longitude":-71.0777697,"title":"Boston Streets","url":"#example-02"},{"latitude":41.309442,"longitude":-72.9293737,"title":"New Heaven","url":"#example-02"}]);
</script>

  </div>
  
</div>

<div class="footer">
  Made with ❤️ by <a href="https://github.com/ayastreb">@ayastreb</a>
</div>

    </div>

  </body>
</html>
